(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{458:function(e,a,t){"use strict";a.a={douban:{basicUrl:"https://api.douban.com/v2/movie/"},tmdb:{basicUrl:"https://api.themoviedb.org/3/movie/",castUrl:"https://api.themoviedb.org/3/person/",searchUrl:"https://api.themoviedb.org/3/search/movie",backdropUrl:"https://image.tmdb.org/t/p/w1400_and_h450_face",bgUrl:"https://image.tmdb.org/t/p/original/",apiKey:"bb3f5acf00144cfacd624c940807a5c4",genres_en:[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],genres_cn:[{id:28,name:"\u52a8\u4f5c"},{id:12,name:"\u5192\u9669"},{id:16,name:"\u52a8\u753b"},{id:35,name:"\u559c\u5267"},{id:80,name:"\u72af\u7f6a"},{id:99,name:"\u7eaa\u5f55"},{id:18,name:"\u5267\u60c5"},{id:10751,name:"\u5bb6\u5ead"},{id:14,name:"\u5947\u5e7b"},{id:36,name:"\u5386\u53f2"},{id:27,name:"\u6050\u6016"},{id:10402,name:"\u97f3\u4e50"},{id:9648,name:"\u60ac\u7591"},{id:10749,name:"\u7231\u60c5"},{id:878,name:"\u79d1\u5e7b"},{id:10770,name:"\u7535\u89c6\u7535\u5f71"},{id:53,name:"\u60ca\u609a"},{id:10752,name:"\u6218\u4e89"},{id:37,name:"\u897f\u90e8"}]}}},459:function(e,a,t){"use strict";a.__esModule=!0;var n,i=t(473),r=(n=i)&&n.__esModule?n:{default:n};a.default=function(){function e(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,r.default)(e,n.key,n)}}return function(a,t,n){return t&&e(a.prototype,t),n&&e(a,n),a}}()},463:function(e,a,t){"use strict";var n=t(1),i=t.n(n),r=t(40),c=function(e){var a=e.name;return i.a.createElement("svg",{className:"icon-font "+a,"aria-hidden":"true"},i.a.createElement("use",{xlinkHref:"#icon-"+a}))};c.protoType={name:t.n(r).a.string.isRequired},a.a=c},466:function(e,a,t){"use strict";var n=t(1),i=t.n(n);a.a=function(){return i.a.createElement("div",{className:"loading"},i.a.createElement("div",{className:"left circle"}),i.a.createElement("div",{className:"right circle"}))}},473:function(e,a,t){e.exports={default:t(490),__esModule:!0}},489:function(e,a,t){"use strict";a.__esModule=!0;var n,i=t(473),r=(n=i)&&n.__esModule?n:{default:n};a.default=function(e,a,t){return a in e?(0,r.default)(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}},490:function(e,a,t){t(491);var n=t(87).Object;e.exports=function(e,a,t){return n.defineProperty(e,a,t)}},491:function(e,a,t){var n=t(188);n(n.S+n.F*!t(89),"Object",{defineProperty:t(187).f})},597:function(e,a,t){"use strict";t.r(a);var n=t(67),i=t(68),r=t(70),c=t(69),o=t(71),l=t(1),s=t.n(l),m=t(125),d=t(126),u=t(467),p=t.n(u),f=t(596),g=t(466),v=t(463),b=function(e){var a=e.rating;return s.a.createElement("div",{className:"rating"},s.a.createElement(v.a,{name:"star"}),s.a.createElement("span",{className:"average"},a),s.a.createElement("span",{className:"max"},"/10"))},h=t(458),E=function(e){function a(){var e;return Object(n.a)(this,a),(e=Object(r.a)(this,Object(c.a)(a).call(this))).fetchProduction=function(a){var t="".concat(h.a.tmdb.castUrl+a.match.params.id,"/movie_credits?api_key=").concat(h.a.tmdb.apiKey,"&language=").concat(a.language),n="".concat(h.a.tmdb.castUrl+a.match.params.id,"?api_key=").concat(h.a.tmdb.apiKey,"&language=").concat(a.language);p.a.all([p.a.get(t),p.a.get(n)]).then(p.a.spread(function(a,t){e.setState({productions:a.data.cast,detail:t.data,ready:!0})})).catch(function(e){console.log(e)})},e.renderProduction=function(e){var a=e.map(function(e,a){return e.poster_path?s.a.createElement(m.b,{key:a,to:"/detail/"+e.id,className:"production"},s.a.createElement("div",{className:"production__cover"},s.a.createElement("img",{src:h.a.tmdb.bgUrl+e.poster_path,alt:""})),s.a.createElement(b,{rating:e.vote_average}),s.a.createElement("span",{className:"production-title"},e.title)):null});return s.a.createElement("div",{className:"cast-production"},s.a.createElement("div",{className:"title"}),s.a.createElement("div",{className:"cast-production-flex"},a))},e.state={ready:!1,productions:[],detail:{}},e}return Object(o.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.fetchProduction(this.props)}},{key:"componentWillReceiveProps",value:function(e){JSON.stringify(this.props)!==JSON.stringify(e)&&(this.setState({ready:!1}),this.fetchProduction(e))}},{key:"render",value:function(){if(!this.state.ready)return s.a.createElement(g.a,null);var e=this.state,a=e.productions,t=e.detail,n="url(".concat(h.a.tmdb.bgUrl+a[0].poster_path,")");return s.a.createElement("div",{className:"cast-detail-page"},s.a.createElement("div",{className:"content-title"},t.name),s.a.createElement("div",{className:"cast-profile"},s.a.createElement("div",{className:"cast-image"},s.a.createElement("img",{src:h.a.tmdb.bgUrl+t.profile_path,alt:""})),s.a.createElement("div",{className:"cast-info"},s.a.createElement("p",null,s.a.createElement("span",null,"zh-CN"===this.props.language?"\u51fa\u751f\u5730:  ":"Place of birth:  "),t.place_of_birth?t.place_of_birth:"-"))),this.renderProduction(a),s.a.createElement("div",{className:"app-bg",style:{backgroundImage:n}}),s.a.createElement(f.a,null,s.a.createElement("div",{className:"ant-back-top-inner"},"UP")))}}]),a}(l.Component);a.default=Object(d.b)(function(e){return{language:e.language}})(E)}}]);
//# sourceMappingURL=11.c5b699e3.chunk.js.map