(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{456:function(e,a,t){"use strict";a.a={douban:{basicUrl:"https://api.douban.com/v2/movie/"},tmdb:{basicUrl:"https://api.themoviedb.org/3/movie/",castUrl:"https://api.themoviedb.org/3/person/",searchUrl:"https://api.themoviedb.org/3/search/movie",backdropUrl:"https://image.tmdb.org/t/p/w1400_and_h450_face",bgUrl:"https://image.tmdb.org/t/p/original/",apiKey:"bb3f5acf00144cfacd624c940807a5c4",genres_en:[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],genres_cn:[{id:28,name:"\u52a8\u4f5c"},{id:12,name:"\u5192\u9669"},{id:16,name:"\u52a8\u753b"},{id:35,name:"\u559c\u5267"},{id:80,name:"\u72af\u7f6a"},{id:99,name:"\u7eaa\u5f55"},{id:18,name:"\u5267\u60c5"},{id:10751,name:"\u5bb6\u5ead"},{id:14,name:"\u5947\u5e7b"},{id:36,name:"\u5386\u53f2"},{id:27,name:"\u6050\u6016"},{id:10402,name:"\u97f3\u4e50"},{id:9648,name:"\u60ac\u7591"},{id:10749,name:"\u7231\u60c5"},{id:878,name:"\u79d1\u5e7b"},{id:10770,name:"\u7535\u89c6\u7535\u5f71"},{id:53,name:"\u60ca\u609a"},{id:10752,name:"\u6218\u4e89"},{id:37,name:"\u897f\u90e8"}]}}},459:function(e,a,t){"use strict";var n=t(1),r=t.n(n),i=t(40),c=function(e){var a=e.name;return r.a.createElement("svg",{className:"icon-font "+a,"aria-hidden":"true"},r.a.createElement("use",{xlinkHref:"#icon-"+a}))};c.protoType={name:t.n(i).a.string.isRequired},a.a=c},477:function(e,a,t){"use strict";t.d(a,"a",function(){return o}),t.d(a,"b",function(){return l});var n=t(465),r=t.n(n),i=t(53),c=t(456),u=function(e){return{type:i.d,payload:{nowShowingArr:e}}},s=function(e){return{type:i.f,payload:{upcomingArr:e}}},o=function(e){return{type:i.a,language:e}};function l(e,a){return function(t,n){e!==n().type&&t({type:i.b,fetchingType:e}),t({type:i.e});var o=c.a.tmdb.basicUrl+e+"?api_key="+c.a.tmdb.apiKey+"&language="+a+"&page=1&region=AU",l="now_playing"===e;r.a.get(o).then(function(e){var a=e.data.results;return t(l?u(a):s(a))}).catch(function(e){return t({type:i.c,error:!0,payload:e})})}}},573:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),i=t(459),c=t(67),u=t(68),s=t(70),o=t(69),l=t(71),m=t(125),d=t(52),h=t(501),p=t.n(h),f=t(465),g=t.n(f),b=t(127),v=t(456),y=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(s.a)(this,Object(o.a)(a).call(this))).fetchData=function(a){var t=v.a.tmdb.searchUrl+"?query="+a+"&api_key="+v.a.tmdb.apiKey+"&language="+e.props.language+"&page=1";if(!a)return e.setState({showSearchMenu:!1});e.setState({showSearchMenu:!0}),g.a.get(t).then(function(a){e.setState({searchResult:a.data.results})}).catch(function(e){console.log(e)})},e.onKeyDown=function(a){if(13===a.keyCode){var t="/search/"+e.refs.input.value;e.refs.input.value="",e.props.history.push(t),e.setState({searchResult:[],showSearchMenu:!1})}},e.handleInput=function(a){e.fetchData(a.target.value)},e.handleClick=function(a){e.refs.input.value="",e.setState({searchResult:[]})},e.fetchData=p()(e.fetchData,300),e.state={focused:!1,searchResult:[],showSearchMenu:!1},e}return Object(l.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("click",function(){e.setState({showSearchMenu:!1})})}},{key:"render",value:function(){var e=this,a=this.state.focused?"search-bar focused":"search-bar";return r.a.createElement("div",{className:a},r.a.createElement("div",{className:"search-icon"},r.a.createElement(i.a,{name:"search"})),r.a.createElement("input",{className:"search-input",ref:"input",type:"text",onKeyDown:this.onKeyDown,onChange:this.handleInput,onFocus:function(){return e.setState({focused:!0})},onBlur:function(){return e.setState({focused:!1})},placeholder:"Search for a movie..."}),this.state.showSearchMenu&&this.state.searchResult.length>=0?r.a.createElement("ul",{className:"dropdown-menu "},0!==this.state.searchResult.length?this.state.searchResult.map(function(a,t){return t<=5?r.a.createElement("li",{key:a.id,className:"suggestion",onClick:e.handleClick},r.a.createElement(m.b,{to:"/detail/"+a.id},a.title)):null}):r.a.createElement("li",null,"No search result")):null)}}]),a}(n.Component);var w=Object(b.b)(function(e){return{language:e.language}})(Object(d.e)(y)),E=t(571),S=t(477);a.default=Object(b.b)(function(e){return{language:e.language}},function(e){return{changeLang:function(a){return e(Object(S.a)(a))}}})(function(e){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"language"},r.a.createElement(E.a.Group,{onChange:function(a){return e.changeLang(a.target.value)},defaultValue:e.language,buttonStyle:"solid"},r.a.createElement(E.a.Button,{value:"en-AU"},"EN"),r.a.createElement(E.a.Button,{value:"zh-CN"},"CN"))),r.a.createElement(m.b,{to:"/"},r.a.createElement(i.a,{name:"star",className:"movie-title"})),r.a.createElement("div",{className:"search-wrapper"},r.a.createElement(w,null)))})}}]);
//# sourceMappingURL=12.24596daf.chunk.js.map