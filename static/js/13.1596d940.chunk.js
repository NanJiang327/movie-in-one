(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{463:function(e,t,n){"use strict";t.a={douban:{basicUrl:"https://api.douban.com/v2/movie/"},tmdb:{basicUrl:"https://api.themoviedb.org/3/movie/",castUrl:"https://api.themoviedb.org/3/person/",searchUrl:"https://api.themoviedb.org/3/search/movie",backdropUrl:"https://image.tmdb.org/t/p/w1400_and_h450_face",bgUrl:"https://image.tmdb.org/t/p/original/",apiKey:"bb3f5acf00144cfacd624c940807a5c4",genres_en:[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],genres_cn:[{id:28,name:"\u52a8\u4f5c"},{id:12,name:"\u5192\u9669"},{id:16,name:"\u52a8\u753b"},{id:35,name:"\u559c\u5267"},{id:80,name:"\u72af\u7f6a"},{id:99,name:"\u7eaa\u5f55"},{id:18,name:"\u5267\u60c5"},{id:10751,name:"\u5bb6\u5ead"},{id:14,name:"\u5947\u5e7b"},{id:36,name:"\u5386\u53f2"},{id:27,name:"\u6050\u6016"},{id:10402,name:"\u97f3\u4e50"},{id:9648,name:"\u60ac\u7591"},{id:10749,name:"\u7231\u60c5"},{id:878,name:"\u79d1\u5e7b"},{id:10770,name:"\u7535\u89c6\u7535\u5f71"},{id:53,name:"\u60ca\u609a"},{id:10752,name:"\u6218\u4e89"},{id:37,name:"\u897f\u90e8"}]}}},466:function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=n(17),o=function(e){var t=e.name;return r.a.createElement("svg",{className:"icon-font "+t,"aria-hidden":"true"},r.a.createElement("use",{xlinkHref:"#icon-"+t}))};o.protoType={name:n.n(i).a.string.isRequired},t.a=o},476:function(e,t,n){"use strict";var a=n(1),r=n.n(a);t.a=function(){return r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"left circle"}),r.a.createElement("div",{className:"right circle"}))}},525:function(e,t,n){"use strict";var a=n(1),r=n(469),i=n(468),o=n(34),c=n.n(o),l=n(126),s=n(475),m=n.n(s),u=n(125);function d(e){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function v(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return E});var g=function(e,t,n,a){var r=n-t;return(e/=a/2)<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t};function y(){return window}var E=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=v(this,b(t).call(this,e))).getCurrentScrollTop=function(){var e=(n.props.target||y)();return e===window?window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop:e.scrollTop},n.scrollToTop=function(e){var t=n.getCurrentScrollTop(),a=Date.now();m()(function e(){var r=Date.now()-a;n.setScrollTop(g(r,t,0,450)),r<450?m()(e):n.setScrollTop(0)}),(n.props.onClick||function(){})(e)},n.handleScroll=function(){var e=n.props,t=e.visibilityHeight,a=e.target,r=function(e,t){if("undefined"===typeof window)return 0;var n=t?"scrollTop":"scrollLeft",a=e===window,r=a?e[t?"pageYOffset":"pageXOffset"]:e[n];return a&&"number"!==typeof r&&(r=document.documentElement[n]),r}((void 0===a?y:a)(),!0);n.setState({visible:r>t})},n.renderBackTop=function(e){var t=e.getPrefixCls,i=n.props,o=i.prefixCls,s=i.className,m=void 0===s?"":s,u=i.children,d=t("back-top",o),f=c()(d,m),v=a.createElement("div",{className:"".concat(d,"-content")},a.createElement("div",{className:"".concat(d,"-icon")})),b=Object(l.a)(n.props,["prefixCls","className","children","visibilityHeight","target","visible"]),h=("visible"in n.props?n.props.visible:n.state.visible)?a.createElement("div",p({},b,{className:f,onClick:n.scrollToTop}),u||v):null;return a.createElement(r.a,{component:"",transitionName:"fade"},h)},n.state={visible:!1},n}var n,o,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,a["Component"]),n=t,(o=[{key:"setScrollTop",value:function(e){var t=(this.props.target||y)();t===window?(document.body.scrollTop=e,document.documentElement.scrollTop=e):t.scrollTop=e}},{key:"componentDidMount",value:function(){var e=this.props.target||y;this.scrollEvent=Object(i.a)(e(),"scroll",this.handleScroll),this.handleScroll()}},{key:"componentWillUnmount",value:function(){this.scrollEvent&&this.scrollEvent.remove()}},{key:"render",value:function(){return a.createElement(u.a,null,this.renderBackTop)}}])&&f(n.prototype,o),s&&f(n,s),t}();E.defaultProps={visibilityHeight:400}},680:function(e,t,n){"use strict";n.r(t);var a=n(54),r=n(55),i=n(57),o=n(56),c=n(58),l=n(1),s=n.n(l),m=n(128),u=n(129),d=n(477),p=n.n(d),f=n(525),v=n(476),b=n(466),h=function(e){var t=e.rating;return s.a.createElement("div",{className:"rating"},s.a.createElement(b.a,{name:"star"}),s.a.createElement("span",{className:"average"},t),s.a.createElement("span",{className:"max"},"/10"))},g=n(463),y=function(e){function t(){var e;return Object(a.a)(this,t),(e=Object(i.a)(this,Object(o.a)(t).call(this))).fetchProduction=function(t){var n="".concat(g.a.tmdb.castUrl+t.match.params.id,"/movie_credits?api_key=").concat(g.a.tmdb.apiKey,"&language=").concat(t.language),a="".concat(g.a.tmdb.castUrl+t.match.params.id,"?api_key=").concat(g.a.tmdb.apiKey,"&language=").concat(t.language);p.a.all([p.a.get(n),p.a.get(a)]).then(p.a.spread(function(t,n){e.setState({productions:t.data.cast,detail:n.data,ready:!0})})).catch(function(e){console.log(e)})},e.renderProduction=function(e){var t=e.map(function(e,t){return e.poster_path?s.a.createElement(m.b,{key:t,to:"/detail/"+e.id,className:"production"},s.a.createElement("div",{className:"production__cover"},s.a.createElement("img",{src:g.a.tmdb.bgUrl+e.poster_path,alt:""})),s.a.createElement(h,{rating:e.vote_average}),s.a.createElement("span",{className:"production-title"},e.title)):null});return s.a.createElement("div",{className:"cast-production"},s.a.createElement("div",{className:"title"}),s.a.createElement("div",{className:"cast-production-flex"},t))},e.state={ready:!1,productions:[],detail:{}},e}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.fetchProduction(this.props)}},{key:"componentWillReceiveProps",value:function(e){JSON.stringify(this.props)!==JSON.stringify(e)&&(this.setState({ready:!1}),this.fetchProduction(e))}},{key:"render",value:function(){if(!this.state.ready)return s.a.createElement(v.a,null);var e=this.state,t=e.productions,n=e.detail,a="url(".concat(g.a.tmdb.bgUrl+t[0].poster_path,")");return s.a.createElement("div",{className:"cast-detail-page"},s.a.createElement("div",{className:"content-title"},n.name),s.a.createElement("div",{className:"cast-profile"},s.a.createElement("div",{className:"cast-image"},s.a.createElement("img",{src:g.a.tmdb.bgUrl+n.profile_path,alt:""})),s.a.createElement("div",{className:"cast-info"},s.a.createElement("p",null,s.a.createElement("span",null,"zh-CN"===this.props.language?"\u51fa\u751f\u5730:  ":"Place of birth:  "),n.place_of_birth?n.place_of_birth:"-"))),this.renderProduction(t),s.a.createElement("div",{className:"app-bg",style:{backgroundImage:a}}),s.a.createElement(f.a,null,s.a.createElement("div",{className:"ant-back-top-inner"},"UP")))}}]),t}(l.Component);t.default=Object(u.b)(function(e){return{language:e.language}})(y)}}]);
//# sourceMappingURL=13.1596d940.chunk.js.map