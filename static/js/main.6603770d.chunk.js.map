{"version":3,"sources":["AsyncComponent.js","hashTracker.js","Router.js","utils/storage.js","store/reducer.js","store/configureStore.js","index.js","store/constants.js"],"names":["asyncComponent","importComponent","_Component","AsyncComponent","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","component","inherits","createClass","key","value","_componentDidMount","asyncToGenerator","regenerator_default","a","mark","_callee","_ref","wrap","_context","prev","next","sent","default","setState","stop","apply","arguments","Component","react_default","createElement","style","width","height","spin","position","marginTop","marginLeft","size","tip","hashTracker","WrappedComponent","options","length","undefined","trackPage","page","ReactGA","initialize","set","objectSpread","pageview","HOC","location","pathname","nextProps","currentPage","nextPage","Header","Promise","all","__webpack_require__","e","then","bind","Footer","NowShowing","SearchResult","Detail","CastDetail","Login","Registration","ErrorPage","Router","react_router_dom","className","react_router","exact","path","appName","defaultState","isFetching","nowShowingArr","upcomingArr","type","language","preLoadState","serialized","localStorage","getItem","JSON","parse","err","console","log","loadState","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","action","constants","assign","_action$payload","payload","updatedAt","_action$payload2","fetchingType","stringify","setItem","saveState","applyMiddleware","thunk","ReactDOM","render","es","Router_Router","document","getElementById","d","__webpack_exports__","FETCH_STARTED","FETCH_NOWSHOWING_COMPLETED","FETCH_UPCOMING_COMPLETED","FETCH_FAILED","CHANGE_TYPE","CHANGE_LANG"],"mappings":"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","file":"static/js/main.6603770d.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport {Spin} from 'antd';\r\n\r\nexport default function asyncComponent(importComponent) {\r\n    class AsyncComponent extends Component {\r\n        constructor(props) {\r\n            super(props);\r\n\r\n            this.state = {\r\n                component: null\r\n            };\r\n        }\r\n        \r\n        async componentDidMount() {\r\n            const { default: component } = await importComponent();\r\n\r\n            this.setState({\r\n                component: component\r\n            });\r\n        }\r\n\r\n        render() {\r\n            const Component = this.state.component;\r\n            // console.log('done')\r\n            return Component ? <Component {...this.props} /> : <div style={{width:'100vh',height:'100vh'}}><Spin style={{position:\"absolute\",marginTop:'48%',marginLeft:'49%'}} size='large' tip=\"Loading...\"/></div>\r\n        }\r\n    }\r\n\r\n    return AsyncComponent;\r\n}","import React, { Component } from 'react';\r\nimport ReactGA from 'react-ga';\r\n\r\nexport default function hashTracker(WrappedComponent, options = {}) {\r\n  const trackPage = (page) => {\r\n    ReactGA.initialize('UA-138612826-1')\r\n    ReactGA.set({\r\n      page,\r\n      ...options\r\n    });\r\n    ReactGA.pageview(page);\r\n  };\r\n\r\n  const HOC = class extends Component {\r\n    componentDidMount() {\r\n      const page = this.props.location.pathname;\r\n      trackPage(page);\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n      const currentPage = this.props.location.pathname;\r\n      const nextPage = nextProps.location.pathname;\r\n\r\n      if (currentPage !== nextPage) {\r\n        trackPage(nextPage);\r\n      }\r\n    }\r\n\r\n    render() {\r\n      return <WrappedComponent {...this.props} />;\r\n    }\r\n  };\r\n\r\n  return HOC;\r\n}","import 'babel-polyfill';\r\nimport React, { Component } from 'react';\r\nimport { Route, Switch, HashRouter} from 'react-router-dom';\r\nimport asyncComponent from './AsyncComponent.js';\r\nimport hashTracker from './hashTracker';\r\n\r\nconst Header = asyncComponent(() => import('./components/Header'))\r\nconst Footer = asyncComponent(() => import('./components/Footer'))\r\nconst NowShowing = asyncComponent(() => import('./pages/NowShowing'))\r\nconst SearchResult = asyncComponent(() => import('./pages/SearchResult'))\r\nconst Detail = asyncComponent(() => import('./pages/Detail'))\r\nconst CastDetail = asyncComponent(() => import('./pages/CastDetail'))\r\nconst Login = asyncComponent(() => import('./pages/Login'))\r\nconst Registration = asyncComponent(() => import('./pages/Register'))\r\nconst ErrorPage = asyncComponent(() => import('./pages/404'))\r\n\r\n\r\n\r\nexport default class Router extends Component {\r\n  render() {\r\n    return (\r\n      <HashRouter>\r\n          <Header />\r\n          <div className=\"content\">\r\n            <Switch>\r\n              <Route exact path='/' component={hashTracker(NowShowing)} />\r\n              <Route path='/search/:query' component={hashTracker(SearchResult)} />\r\n              <Route path='/detail/:id' component={hashTracker(Detail)} />\r\n              <Route path='/castdetail/:id' component={hashTracker(CastDetail)} />\r\n              <Route exact path='/login' component={hashTracker(Login)} />\r\n              <Route exact path='/register' component={hashTracker(Registration)} />\r\n              <Route path='*' exact={true} component={ErrorPage} />\r\n            </Switch>\r\n          </div>\r\n          <Footer />\r\n      </HashRouter>\r\n    )\r\n  }\r\n}","const appName = 'Move in one'\r\n\r\nexport function loadState() {\r\n  try {\r\n    const serialized = localStorage.getItem(appName)\r\n    if (serialized === null) return;\r\n    return JSON.parse(serialized)\r\n  } catch (err) {\r\n    return console.log('local storage error' + err)\r\n  }\r\n}\r\n\r\nexport function saveState(state) {\r\n  try {\r\n    const serialized = JSON.stringify(state);\r\n    localStorage.setItem(appName, serialized);\r\n  } catch (err) {\r\n    // ignore\r\n  }\r\n}\r\n\r\nexport function clearState() {\r\n  try {\r\n    localStorage.removeItem(appName);\r\n  } catch (err) {\r\n    // ignore\r\n  }\r\n}\r\n","import { saveState } from '../utils/storage'\r\nimport * as constants from './constants'\r\n\r\nconst defaultState = {\r\n  isFetching: false,\r\n  nowShowingArr: [],\r\n  upcomingArr: [],\r\n  type: 'now_playing',\r\n  language: 'en-AU'\r\n}\r\n\r\nexport default (state = defaultState, action) => {\r\n  switch(action.type) {\r\n    case constants.FETCH_STARTED:\r\n      return Object.assign({}, state,  {\r\n        isFetching: true\r\n      })\r\n    case constants.FETCH_NOWSHOWING_COMPLETED: {\r\n      const{ nowShowingArr, updatedAt } = action.payload;\r\n      const newState = Object.assign({}, state, {\r\n        isFetching: false,\r\n        nowShowingArr,\r\n        updatedAt,\r\n        type: 'now_playing'\r\n      })\r\n      return newState\r\n    }\r\n    case constants.FETCH_UPCOMING_COMPLETED: {\r\n      const{ upcomingArr, updatedAt } = action.payload;\r\n      const newState = Object.assign({}, state, {\r\n        isFetching: false,\r\n        upcomingArr,\r\n        updatedAt,\r\n        type: 'upcoming'\r\n      })\r\n      return newState\r\n    }\r\n    case constants.FETCH_FAILED:\r\n      return Object.assign({}, state, {\r\n        isFetching: false\r\n      })\r\n    case constants.CHANGE_TYPE: \r\n      return Object.assign({}, state, {\r\n        type: action.fetchingType\r\n      })\r\n    case constants.CHANGE_LANG:\r\n      saveState({\r\n        language: action.language\r\n      })\r\n      return Object.assign({}, state, {\r\n        language: action.language\r\n      })\r\n    default: \r\n      return state\r\n  }\r\n}","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n// import { createLogger } from 'redux-logger';\r\nimport reducer from './reducer';\r\nimport { loadState } from '../utils/storage.js';\r\n\r\n\r\nconst preLoadState = loadState()\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  preLoadState,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n)\r\n\r\nexport default store","import React from 'react';\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport Router from './Router.js';\r\n\r\nimport store from './store/configureStore.js'\r\nimport 'antd/dist/antd.css'\r\nimport './styles/main.scss'\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <Router />\r\n  </Provider>\r\n, document.getElementById('root'))\r\n","export const FETCH_STARTED = 'FETCH_STARTED';\r\nexport const FETCH_NOWSHOWING_COMPLETED = 'FETCH_NOWSHOWING_COMPLETED';\r\nexport const FETCH_UPCOMING_COMPLETED = 'FETCH_UPCOMING_COMPLETED';\r\nexport const FETCH_FAILED = 'FETCH_FAILED';\r\nexport const CHANGE_TYPE = 'CHANGE_TYPE';\r\nexport const CHANGE_LANG = 'CHANGE_LANG';"],"sourceRoot":""}